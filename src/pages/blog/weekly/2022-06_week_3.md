---
title: "週報[2022-06-week-3]"
layout: "../../../layouts/BlogPost.astro"
description: ""
date: "2022-11-06"
count: 4698
tags:
 - weekly
---




### === 日記(新しい趣味を探している) ===

[2022-06-16]

久しく冷めていたV視聴再開した。

こよりみてる。OP大好き。全体としてはやはり声が好き。

# JavaScriptで困ってること

```javascript
let [a,_,_,b] = ary;

```

みたいなの書けないんすね。_はすでに使われとるわぼけって怒られた。

仕方ないのでそれぞれ適当な名前つけて対処した。

なんか上手い書き方あるかな。

# 趣味

みたこともない趣味初めるのハードル高すぎることやっと気がついた。

* これから何年生きることができるかわからんが、少なくとも死ぬまで友人が増えることはない。

* Discordとか巡って体感したが、コミュニティに入ることも無理。

* 僕の新しいことへの抵抗値はそれなりに高い。

上記より、多人数きゃっきゃは実現困難であり、基本的に孤独もくもくが前提がほぼ確定している。

その上で考えたいくつか候補がある。

## ゲーム開発

AndroidとかiOSとかだるいので気軽にWebで楽しめるようなゲームを作れたらなとは考えてる。

以後想定している流れ:

1. テトリス作成(今ここ)
2. パズルゲーム作成
3. 横スクロールゲーム作成(超絶劣化マリオとか作れたら...)
4. 横スクロール + @, 今考えてるのは劣化マリオでゲーム内のイベントとAPI叩く処理を連動させてゲームに反映させるやつ。

せめてテトリスは終わらせたいね。

## インフラ

金がない。それは事実だが現状の機材でもやれることはたくさんある。

...が肝心のやりたいことがない。

当然会社の補助金とかあてにできないので(あっても有用な用途をプレゼンできないのだが)

ある程度金銭を消費してAWSあたりで遊び倒すか少し考えてる。

自宅でも検証NWで動いてるやつらはほとんど余っている状態なので、そちらについて考えても良いかも。

ゲーム開発の方でロードマップだしたばっかなのでこちらでだすのはなんだかな。

余計なことを考えてしまった。このロードマップを考えるために一時間消えた。

ゴミ。時間の無駄。

まずはゲーム開発、次にCSV検索の方だろ。

恥を知れ恥を

## ゲーム

ゼノブレイド2とかモンハンライズサンブレとか割とやりこんでもいいかなとは考えてる。

しかし、金はそれなりにかかるのでう〜ん。

## 電子工作系

初心者キットの残りみたいなのはあるので、もう少し本格的な工作をしても良いかも。

やるとしたら基礎をしっかりと固めていきたい。

[当サイトに沿って学習する方法 - 実践で習得！電子回路](https://www.kairo-nyumon.com/learning_method.html)

[電子工作入門 - 基礎からの IoT 入門](https://iot.keicode.com/electronics/)

が、こちらでも何かやりたいみたいな強いものは特にない。


### === テトリス書いてます！ ===

[2022-06-16]

[GitHub - wasuken/ts-tetris at dev](https://github.com/wasuken/ts-tetris/tree/dev)

# できてること

* ブロック移動
  * 左
  * 右
  * 下

手動かつバグとりができてない。

# できてないこと

* ブロック移動
  * 左
  * 右
  * 下
* 行消
* 複数色
* テトラミノランダム生成
* 時間(一秒ごとに落としたい)

# 学んだこと

```typescript
export type Rotate = 1 | 2 | 3 | 4;
```

1~4の型とかの定義できる。


あとはなるべくベースの関数,決めてそちら流れるように実装を心がけている。

rotate,moveBlock系は一応守れてる。


### === 日記(やる気がない) ===

[2022-06-19]

# 生存

やる気がないのでブログ読み直したりしてる。

# 日曜日から本気だした

というわけでカフェきてる。

軽くやったこと

* Arch更新
* ラズパイ再起動
* macOSのshellをzshへ変更(だるかったのでbashへと変えてた)

# bash,fish -> zsh?

流石にラズパイとかにはいれてないけど近頃zshへと移行が進んでおり、

fishはArchのノートPC二つだけとなっている。

zshはくそべんり。

fishは便利だけど、正直使いこなせている感じがしない。

故にfishいれてるArchもzshへ移行させるか迷ってる。

# 今日みた記事

## [Zinitでターミナルをカスタマイズする](https://zenn.dev/nagan/articles/8168ba0ca407ad)

macosでzshの設定をしていたときにzinitねーぞと怒られたので入れたときにみた記事。

## [ドキュメントに固執せよ - gfnweb](https://gfngfn.github.io/ja/posts/2022-06-18-be-a-documentation-geek/)

自分の経験と照らし合わせて自分の見える範囲の環境前提で考えて、まとめてみた。他は知らん。

### 共感した点

めんどいのでブログ本文(以下本文)から都合のいいとこだけ抜き出してる。

#### > コードの大部分は誰でも書ける

これはクローズドチームの話内部で全員同じレベルの場合その通りで

基本的に僕のコーディング自体は設計したものをただコードに落としているだけなので

むしろコード前の設計の部分が極めて重要なのでここを共有するのは間違いなく必須。

#### > そんな再発見をする必要はないし

本文でも腕時計で譬え話を書いてある通り、ドキュメントを初めて見る人間の立場になって考えてみると

再発見は間違いなく無駄な時間だ。

#### > ドキュメントで何よりも先に伝えなければならないのは「なぜつくったのか」「何を実現しているのか」「どう使えるのか」である．読者が追加で著者に質問することなくこれらを読み取れないドキュメントは事実上ドキュメントではないと言ってもよいかもしれない．

コードを見なくてもだいたい理解できるように「何を実現しているのか」、「どう仕えるのか」を

コードを見てもわからない箇所の補完をするために「なぜ作ったのか」を書いていく。

#### > 何がわからないのかがわからない

#### > 質問はコストが大きい

これは最近実感したことだ。

自分が経験した苦労をいつの間にか他の人に対しても経験させるようなことをしていた。

## [「勤務場所は自宅」「飛行機で出社OK」NTTが来月から新ルール](https://www3.nhk.or.jp/news/html/20220618/k10013677411000.html)

前職であれば僻みみたいなのが生まれていただろうけど、ほぼリモートの今ならもっとやれ感が強い。

一応ホームレス、生活保護ルート入る前に職探しははいるので、その際にリモート求人があればあるほど助かるのだ。

そもそもIT企業がリモートやらなくてどこがやるのか。対面やりたいやつは固まっててほしい。

なのでNECにそれが集まってくれるのは特に感情的なものはない。

## [イオンの秘密情報を週刊誌に漏えい　デロイトトーマツが謝罪　「社内ルールを逸脱した行為があった」 - ITmedia NEWS](https://www.itmedia.co.jp/news/articles/2206/17/news131.html)

1人のやらかしで甚大な被害が入るから大企業?は大変ですね。

## [GitHub - jiro4989/ojosama: テキストを壱百満天原サロメお嬢様風の口調に変換します](https://github.com/jiro4989/ojosama)


[ojosama/rule.go at c46abbd7b7fd845d4ac8d86cf9ad1bc6cc985787 · jiro4989/ojosama · GitHub](https://github.com/jiro4989/ojosama/blob/c46abbd7b7/rule.go)

機械学習をご採用されておりますの？とソースを見ておりましたが、結構強引な実装でおハーブ生えましてよ。

[Issues · jiro4989/ojosama · GitHub](https://github.com/jiro4989/ojosama/issues)

おissueもくすっときますわ。


### === 他のテトリス実装を見てみる ===

[2022-06-19]


### === ブラウザで圧縮ファイルの中身を確認したい ===

[2022-06-19]

タイトルの通りなのでまずはローカルサービスとして書いていくぞ。

根本的には公開されているZipファイルを確認したかっただけなのでそこだけサポートするとすると

入力要件は下記となる。

* フロント: zipファイルのURLを入力する
* API: zipファイルのURLをパラメタとする
* 共通: ファイル種類はzipのみとする

描画自体は後でもよいのでAPIで再帰リストとして返却してくれればよい。

* API: ディレクトリ情報は再帰リストで返却
* フロント: ディレクトリツリーライブラリへレスポンスを入れる

とりあえずここまで書いてみる。

それ以降については上記ができてから考える。テトリスとか終わってないからね。

## 名前

compiew

## 実装機能

### ブラウジング(キャッシング->ブラウジングという流れ)

+ キャッシング
+ 外部サイトリンク経由でのダウンロード
+ 本サービス内部でダウンロード

### 部分操作

* 部分的にダウンロードする。
+ 改めてZip化等を行い、DL。

## インフラ

* backend: go
* frontend: typescript+react

開発/本番環境はDocker

# 開発一日目感想

一度フロントで完結するやつを作ろうとしたが、結果的にこれは以下の理由で大失敗だった。

* pakoというライブラリ(zlibのJS実装?)を利用したが、当然zipには非対応。

* gzファイルには当然対応しているが、ファイル名とかのパースはしてくれない。全部文字列で返却してくる。そのためパーサを書かないといけない。

上記に気がつくまで二時間ほどコード回してた。

諦めてバックエンドに飛ばそう...。


### === compiewフロントエンド開発 ===

[2022-06-20]

frontだけ書いた。

pakoでパースしているが、zipはパースできないようなので別ライブラリを利用する。

zlibjsかな。

全体の機能とか決めてないので見た目はまだシンプルなまま。


### === tetris ===

[2022-06-20]

[マップ移動周りのバグと左右移動実装 · wasuken/ts-tetris@2de19e4 · GitHub](https://github.com/wasuken/ts-tetris/commit/2de19e4ab5e439de939f01eec45d222f4c420456)

バグ修正とかこっそりやったくらい。

次あたりにやるかもしれないこと

* マップ上での回転
* 一番したへ落ちた判定
* 一番したに落ちた後の処理(再配置、終了判定等)
